---
keywords: fastai
title: Concurrency
hide: true
toc: true
badges: true
comments: true
categories: [python]
nb_path: _notebooks/3020-11-06-concurrency.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/3020-11-06-concurrency.ipynb
-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">imports</span> <span class="kn">import</span> <span class="o">*</span>

<span class="o">%</span><span class="k">config</span> InlineBackend.figure_format = &#39;retina&#39;
<span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Theory">Theory<a class="anchor-link" href="#Theory"> </a></h2><p>Elements:</p>
<ul>
<li>RAM</li>
<li>memory controller (interface between cup and ram)</li>
<li>CPU</li>
<li><p>Kernel</p>
<ul>
<li>Lowest level of software. It manages cpu resources, file system, memory resources, drivers, networking, etc.</li>
</ul>
</li>
<li><p>Program</p>
<ul>
<li>Code and data structures that can be executed (like newspaper)</li>
</ul>
</li>
</ul>
<ul>
<li><p>Cores (units of cpu?)</p>
<ul>
<li>Multi core: instead of dividing up cpu time among different processes, can actually run stuff in parallel, but within each core, the process is exactly the same as with only one core.</li>
</ul>
</li>
<li><p>Process</p>
<ul>
<li>A logical container that tells kernel what program to run. Process has id, priority, status, memory space, etc.. Kernel uses that info to allocate cpu time to each program. Because happens at milisecond level, creates illusion of concurrency (comic analogy).</li>
<li>A program that competes for CPU resources (e.g. a web browser, or a bit of cleaning code)</li>
<li>The program in execution. Given that program is composed of multiple threads, program is program + state of all threads executing the program </li>
</ul>
</li>
<li><p>Threads</p>
<ul>
<li>Threads run within a single process, to allow it to do multiple things at once (like a newspaper)</li>
<li>They are lines of control cursing through the code and data structures of the program (called a thread of execution through the program). Akin to one reader scanning through a section of the newspaper.</li>
<li>Multiple threads: different lines of control cursing through the program (multiple readers reading different sections of the newspaper).</li>
<li>Potential conflict: threads operate on (read/update) same data structures. Solution: locks</li>
<li>A ... running within a program (e.g. reading data, processing, writing to disk) </li>
</ul>
</li>
</ul>
<p>Type of tasks:</p>
<ul>
<li><p>CPU-bound tasks: using CPU to crunch numbers</p>
</li>
<li><p>I/O-bound tasks: waiting for some I/O operations to complete (downloading files from internet, reading and writing to file-system)</p>
</li>
</ul>
<p>Theading:</p>
<ul>
<li>Gives speed ups for I/O-bound tasks</li>
</ul>
<p>Multiprocessing:</p>
<ul>
<li>Run CPU-bound tasks in prallel </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Usage">Usage<a class="anchor-link" href="#Usage"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>8</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Sources">Sources<a class="anchor-link" href="#Sources"> </a></h2><ul>
<li><a href="https://www.youtube.com/watch?v=O3EyzlZxx3g">Udacity on process vs threads</a></li>
<li><a href="https://www.youtube.com/watch?v=h_HwkHobfs0">Gary explains - processes and threads</a></li>
<li><a href="https://www.youtube.com/watch?v=mycVSMyShk8">Gary explains - what is a kernel</a></li>
<li><a href="https://www.youtube.com/watch?v=IEEhzQoKtQU">Corey Schafer on threading</a></li>
<li><a href="https://www.oreilly.com/library/view/fluent-python/9781491946237/">Fluent Python</a></li>
<li><a href="https://www.oreilly.com/library/view/python-cookbook-3rd/9781449357337/">Python Cookbook</a></li>
<li><a href="https://www.oreilly.com/library/view/learning-python-5th/9781449355722/">Learning Python</a></li>
<li><a href="https://www.oreilly.com/library/view/python-for-data/9781491957653/">Python for Data Analysis</a></li>
<li><a href="https://www.oreilly.com/library/view/python-data-science/9781491912126/">Python Data Science Handbook</a></li>
</ul>

</div>
</div>
</div>
</div>
 

